/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
    id 'java'
    id 'application'
    id 'com.google.cloud.tools.jib' version '1.3.0'
}

repositories {
    jcenter()
    mavenCentral()
}

dependencies {
    implementation "com.google.code.gson:gson:${gsonVersion}"
    implementation "com.google.protobuf:protobuf-java:${protoVersion}"
    implementation "io.grpc:grpc-all:${grpcVersion}"
    implementation project(':schema')
}
jib {
  from {
    image = 'openjdk:8'
  }
  to {
    image = 'reservationserver:' + System.nanoTime()
    credHelper = 'osxkeychain'
    tags = ['latest']
  }
  container {
    jvmFlags = ['-Xms512m', '-Xmx16384m']
    mainClass = 'grpc.java.server.ReservationServer'
    format = 'OCI'
  }
}
application {
  mainClassName = 'grpc.java.server.ReservationServer'
}
version = '1.0'
description = 'grpc-server'
sourceCompatibility = 1.8
targetCompatibility = 1.8
